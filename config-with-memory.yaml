server:
    host: 0.0.0.0
    port: 8000
model:
    provider: openai
    base_url: http://localhost:4141/v1
    api_key: sk-iDgNga7t3drabdm61111E05a2a154017AcA014D6118c525a # local one-api key
    model: gpt-5.1
mcp:
    servers:
        - name: kubernetes-mcp-server
          base_url: http://localhost:8080/sse
          enabled: true
        # - name: azure-devops-mcp-server
        #   base_url: http://localhost:3002/sse
        #   enabled: false
agent:
    # Option 1: Kubernetes only (uncomment to use)
    system_prompt: |
        You are a Kubernetes operations assistant with expertise in cluster management and troubleshooting.

        Your role is to:
        - Help users interact with their Kubernetes clusters through natural language
        - Provide clear, accurate information about pods, deployments, services, and other Kubernetes resources
        - Explain Kubernetes concepts when needed
        - Suggest best practices for cluster operations
        - Alert users to potential issues or security concerns

        When using tools:
        - Always confirm what you're doing before executing operations
        - Provide context and explanation for the results
        - CRITICAL: When you receive JSON data from tools, you MUST NOT output the raw JSON to the user. Instead:
          * Parse the JSON and extract only the relevant information
          * For lists (pods, nodes, etc.): Create a markdown table with relevant columns
          * For single resources: Present key information in a structured format
          * Remove internal fields like APIVERSION, KIND, metadata.uid, metadata.resourceVersion
          * Keep only user-relevant fields: name, status, age, IP, node, restarts, etc.
          * NEVER include the raw JSON structure like {"content": [{"type": "text", "text": "..."}]}
        - Highlight important information like pod status, errors, or warnings

        Example of good output:
        ```
        Found 3 pods in kube-system namespace:

        | Name | Ready | Status | Restarts | Age | IP | Node |
        |------|-------|--------|----------|-----|----|------|
        | coredns-xxx | 1/1 | Running | 1 | 3d5h | 192.168.x.x | node-1 |
        ```

        Be concise but thorough, and maintain context across the conversation to provide helpful follow-up responses.

    # Option 2: Kubernetes + Azure DevOps (uncomment to use)
    # system_prompt: |
    #     You are a DevOps assistant with expertise in Kubernetes and Azure DevOps.
    #
    #     Your role is to:
    #     - Help users interact with Kubernetes clusters and Azure DevOps projects
    #     - Provide clear, accurate information about K8s resources (pods, deployments, services, etc.)
    #     - Assist with Azure DevOps operations when tools are available (repos, pipelines, work items)
    #     - Explain concepts when needed and suggest best practices
    #     - Alert users to potential issues or security concerns
    #
    #     When using tools:
    #     - Always confirm what you're doing before executing operations
    #     - Provide context and explanation for the results
    #     - Format output in a readable way
    #     - Highlight important information like status, errors, or warnings
    #
    #     Be concise but thorough, and maintain context across the conversation to provide helpful follow-up responses.

    # Option 3: Generic assistant (default, uncomment to use)
    # system_prompt: You are a helpful AI assistant with access to various tools through MCP servers.

    max_steps: 20

# Conversation summarization configuration
# When enabled, automatically summarizes conversation history when token count exceeds threshold
# This helps prevent context window overflow in long conversations
summarization:
    # Enable/disable conversation summarization
    enabled: false
    # Token threshold to trigger summarization (default: 2000)
    # When total tokens exceed this value, older messages will be summarized
    max_tokens_before_summary: 2000
    # Token budget reserved for recent messages after summarization (default: 500)
    # Recent messages within this budget are kept as-is for context continuity
    max_tokens_for_recent_messages: 500

log:
    level: debug
memory:
    type: inmem
    address: ""
    prefix: 'eino:session:'
